{% extends "base.html" %}
{% load static %}   

{% block content %}
<!-- Dashboard Section -->
<div class="section active" id="dashboard">
    {% include "partials/dashboard.html" %}
</div>

<!-- Colaboradores Section -->
<div class="section" id="colaboradores">
    {% include "partials/colaboradores.html" %}
</div>

<!-- Equipamentos Section -->
<div class="section" id="equipamentos">
    {% include "partials/equipamentos.html" %}
</div>

<!-- Empréstimos Section -->
<div class="section" id="emprestimos">
    {% include "partials/emprestimos.html" %}
</div>

<!-- Histórico Section -->
<div class="section" id="historico">
    {% include "partials/historico.html" %}
</div>

<!-- Usuários Section (apenas para administradores) -->
{% if user.perfil == 'Administrador' %}
<div class="section" id="usuarios">
    {% include "partials/usuarios.html" %}
</div>
{% endif %}
{% endblock %}

{% block extra_js %}
<script>
    // Inicialização específica da página
    document.addEventListener('DOMContentLoaded', function() {
        // Configura data atual nos formulários
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('data-emprestimo').value = today;
        
        // Data de devolução padrão (7 dias)
        const nextWeek = new Date();
        nextWeek.setDate(nextWeek.getDate() + 7);
        document.getElementById('data-devolucao').value = nextWeek.toISOString().split('T')[0];
        
        // Carrega dados iniciais
        loadDashboardData();
    });
</script>
{% endblock %}